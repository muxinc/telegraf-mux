package riak

import (
	"fmt"
	"net/http"
	"net/http/httptest"
	"net/url"
	"testing"

	"github.com/influxdata/telegraf/testutil"
	"github.com/stretchr/testify/require"
)

func TestRiak(t *testing.T) {
	// Create a test server with the const response JSON
	ts := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		w.WriteHeader(http.StatusOK)
		_, err := fmt.Fprintln(w, response)
		require.NoError(t, err)
	}))
	defer ts.Close()

	// Parse the URL of the test server, used to verify the expected host
	u, err := url.Parse(ts.URL)
	require.NoError(t, err)

	// Create a new Riak instance with our given test server
	riak := NewRiak()
	riak.Servers = []string{ts.URL}

	// Create a test accumulator
	acc := &testutil.Accumulator{}

	// Gather data from the test server
	require.NoError(t, riak.Gather(acc))

	// Expect the correct values for all known keys
	expectFields := map[string]interface{}{
		"clusteraae_fsm_active":                  int64(0),
		"clusteraae_fsm_create":                  int64(0),
		"clusteraae_fsm_create_error":            int64(0),
		"consistent_get_objsize_100":             int64(0),
		"consistent_get_objsize_95":              int64(0),
		"consistent_get_objsize_99":              int64(0),
		"consistent_get_objsize_mean":            int64(0),
		"consistent_get_objsize_median":          int64(0),
		"consistent_get_time_100":                int64(0),
		"consistent_get_time_95":                 int64(0),
		"consistent_get_time_99":                 int64(0),
		"consistent_get_time_mean":               int64(0),
		"consistent_get_time_median":             int64(0),
		"consistent_gets":                        int64(0),
		"consistent_gets_total":                  int64(0),
		"consistent_put_objsize_100":             int64(0),
		"consistent_put_objsize_95":              int64(0),
		"consistent_put_objsize_99":              int64(0),
		"consistent_put_objsize_mean":            int64(0),
		"consistent_put_objsize_median":          int64(0),
		"consistent_put_time_100":                int64(0),
		"consistent_put_time_95":                 int64(0),
		"consistent_put_time_99":                 int64(0),
		"consistent_put_time_mean":               int64(0),
		"consistent_put_time_median":             int64(0),
		"consistent_puts":                        int64(0),
		"consistent_puts_total":                  int64(0),
		"converge_delay_last":                    int64(0),
		"converge_delay_max":                     int64(0),
		"converge_delay_mean":                    int64(0),
		"converge_delay_min":                     int64(0),
		"coord_local_soft_loaded_total":          int64(2),
		"coord_local_unloaded_total":             int64(145976),
		"coord_redir_least_loaded_total":         int64(16),
		"coord_redir_loaded_local_total":         int64(234),
		"coord_redir_unloaded_total":             int64(1399757),
		"coord_redirs_total":                     int64(0),
		"counter_actor_counts_100":               int64(0),
		"counter_actor_counts_95":                int64(0),
		"counter_actor_counts_99":                int64(0),
		"counter_actor_counts_mean":              int64(0),
		"counter_actor_counts_median":            int64(0),
		"cpu_avg1":                               int64(1329),
		"cpu_avg15":                              int64(1375),
		"cpu_avg5":                               int64(1254),
		"cpu_nprocs":                             int64(2307),
		"dropped_vnode_requests_total":           int64(0),
		"executing_mappers":                      int64(0),
		"gossip_received":                        int64(5),
		"handoff_timeouts":                       int64(0),
		"hll_bytes":                              int64(0),
		"hll_bytes_100":                          int64(0),
		"hll_bytes_95":                           int64(0),
		"hll_bytes_99":                           int64(0),
		"hll_bytes_mean":                         int64(0),
		"hll_bytes_median":                       int64(0),
		"hll_bytes_total":                        int64(0),
		"ignored_gossip_total":                   int64(0),
		"index_fsm_active":                       int64(0),
		"index_fsm_complete":                     int64(1),
		"index_fsm_create":                       int64(1),
		"index_fsm_create_error":                 int64(0),
		"index_fsm_results_100":                  int64(13),
		"index_fsm_results_95":                   int64(13),
		"index_fsm_results_99":                   int64(13),
		"index_fsm_results_mean":                 int64(13),
		"index_fsm_results_median":               int64(13),
		"index_fsm_time_100":                     int64(30981),
		"index_fsm_time_95":                      int64(30981),
		"index_fsm_time_99":                      int64(30981),
		"index_fsm_time_mean":                    int64(30981),
		"index_fsm_time_median":                  int64(30981),
		"late_put_fsm_coordinator_ack":           int64(0),
		"leveldb_read_block_error":               int64(0),
		"list_fsm_active":                        int64(0),
		"list_fsm_create":                        int64(0),
		"list_fsm_create_error":                  int64(0),
		"list_fsm_create_error_total":            int64(0),
		"list_fsm_create_total":                  int64(1),
		"map_actor_counts_100":                   int64(0),
		"map_actor_counts_95":                    int64(0),
		"map_actor_counts_99":                    int64(0),
		"map_actor_counts_mean":                  int64(0),
		"map_actor_counts_median":                int64(0),
		"mem_allocated":                          int64(200073379840),
		"mem_total":                              int64(202426757120),
		"memory_atom":                            int64(1189081),
		"memory_atom_used":                       int64(1167121),
		"memory_binary":                          int64(2432859000),
		"memory_code":                            int64(18126088),
		"memory_ets":                             int64(15329248),
		"memory_processes":                       int64(3132288096),
		"memory_processes_used":                  int64(3131937632),
		"memory_system":                          int64(2501227376),
		"memory_total":                           int64(5633515472),
		"ngrfetch_nofetch":                       int64(0),
		"ngrfetch_nofetch_total":                 int64(0),
		"ngrfetch_prefetch":                      int64(0),
		"ngrfetch_prefetch_total":                int64(0),
		"ngrfetch_tofetch":                       int64(0),
		"ngrfetch_tofetch_total":                 int64(0),
		"ngrrepl_empty":                          int64(0),
		"ngrrepl_empty_total":                    int64(0),
		"ngrrepl_error":                          int64(0),
		"ngrrepl_error_total":                    int64(0),
		"ngrrepl_object":                         int64(0),
		"ngrrepl_object_total":                   int64(0),
		"ngrrepl_srcdiscard":                     int64(0),
		"ngrrepl_srcdiscard_total":               int64(0),
		"node_get_fsm_active":                    int64(0),
		"node_get_fsm_active_60s":                int64(4028),
		"node_get_fsm_counter_objsize_100":       int64(0),
		"node_get_fsm_counter_objsize_95":        int64(0),
		"node_get_fsm_counter_objsize_99":        int64(0),
		"node_get_fsm_counter_objsize_mean":      int64(0),
		"node_get_fsm_counter_objsize_median":    int64(0),
		"node_get_fsm_counter_siblings_100":      int64(0),
		"node_get_fsm_counter_siblings_95":       int64(0),
		"node_get_fsm_counter_siblings_99":       int64(0),
		"node_get_fsm_counter_siblings_mean":     int64(0),
		"node_get_fsm_counter_siblings_median":   int64(0),
		"node_get_fsm_counter_time_100":          int64(0),
		"node_get_fsm_counter_time_95":           int64(0),
		"node_get_fsm_counter_time_99":           int64(0),
		"node_get_fsm_counter_time_mean":         int64(0),
		"node_get_fsm_counter_time_median":       int64(0),
		"node_get_fsm_errors":                    int64(0),
		"node_get_fsm_errors_total":              int64(0),
		"node_get_fsm_hll_objsize_100":           int64(0),
		"node_get_fsm_hll_objsize_95":            int64(0),
		"node_get_fsm_hll_objsize_99":            int64(0),
		"node_get_fsm_hll_objsize_mean":          int64(0),
		"node_get_fsm_hll_objsize_median":        int64(0),
		"node_get_fsm_hll_siblings_100":          int64(0),
		"node_get_fsm_hll_siblings_95":           int64(0),
		"node_get_fsm_hll_siblings_99":           int64(0),
		"node_get_fsm_hll_siblings_mean":         int64(0),
		"node_get_fsm_hll_siblings_median":       int64(0),
		"node_get_fsm_hll_time_100":              int64(0),
		"node_get_fsm_hll_time_95":               int64(0),
		"node_get_fsm_hll_time_99":               int64(0),
		"node_get_fsm_hll_time_mean":             int64(0),
		"node_get_fsm_hll_time_median":           int64(0),
		"node_get_fsm_in_rate":                   int64(47),
		"node_get_fsm_map_objsize_100":           int64(0),
		"node_get_fsm_map_objsize_95":            int64(0),
		"node_get_fsm_map_objsize_99":            int64(0),
		"node_get_fsm_map_objsize_mean":          int64(0),
		"node_get_fsm_map_objsize_median":        int64(0),
		"node_get_fsm_map_siblings_100":          int64(0),
		"node_get_fsm_map_siblings_95":           int64(0),
		"node_get_fsm_map_siblings_99":           int64(0),
		"node_get_fsm_map_siblings_mean":         int64(0),
		"node_get_fsm_map_siblings_median":       int64(0),
		"node_get_fsm_map_time_100":              int64(0),
		"node_get_fsm_map_time_95":               int64(0),
		"node_get_fsm_map_time_99":               int64(0),
		"node_get_fsm_map_time_mean":             int64(0),
		"node_get_fsm_map_time_median":           int64(0),
		"node_get_fsm_objsize_100":               int64(1056106),
		"node_get_fsm_objsize_95":                int64(20028),
		"node_get_fsm_objsize_99":                int64(83188),
		"node_get_fsm_objsize_mean":              int64(6591),
		"node_get_fsm_objsize_median":            int64(1392),
		"node_get_fsm_out_rate":                  int64(47),
		"node_get_fsm_rejected":                  int64(0),
		"node_get_fsm_rejected_60s":              int64(0),
		"node_get_fsm_rejected_total":            int64(0),
		"node_get_fsm_set_objsize_100":           int64(0),
		"node_get_fsm_set_objsize_95":            int64(0),
		"node_get_fsm_set_objsize_99":            int64(0),
		"node_get_fsm_set_objsize_mean":          int64(0),
		"node_get_fsm_set_objsize_median":        int64(0),
		"node_get_fsm_set_siblings_100":          int64(0),
		"node_get_fsm_set_siblings_95":           int64(0),
		"node_get_fsm_set_siblings_99":           int64(0),
		"node_get_fsm_set_siblings_mean":         int64(0),
		"node_get_fsm_set_siblings_median":       int64(0),
		"node_get_fsm_set_time_100":              int64(0),
		"node_get_fsm_set_time_95":               int64(0),
		"node_get_fsm_set_time_99":               int64(0),
		"node_get_fsm_set_time_mean":             int64(0),
		"node_get_fsm_set_time_median":           int64(0),
		"node_get_fsm_siblings_100":              int64(1),
		"node_get_fsm_siblings_95":               int64(1),
		"node_get_fsm_siblings_99":               int64(1),
		"node_get_fsm_siblings_mean":             int64(1),
		"node_get_fsm_siblings_median":           int64(1),
		"node_get_fsm_time_100":                  int64(40252),
		"node_get_fsm_time_95":                   int64(3389),
		"node_get_fsm_time_99":                   int64(11692),
		"node_get_fsm_time_mean":                 int64(1615),
		"node_get_fsm_time_median":               int64(1100),
		"node_gets":                              int64(3112),
		"node_gets_counter":                      int64(0),
		"node_gets_counter_total":                int64(0),
		"node_gets_hll":                          int64(0),
		"node_gets_hll_total":                    int64(0),
		"node_gets_map":                          int64(0),
		"node_gets_map_total":                    int64(0),
		"node_gets_set":                          int64(0),
		"node_gets_set_total":                    int64(0),
		"node_gets_total":                        int64(17297541),
		"node_put_fsm_active":                    int64(0),
		"node_put_fsm_active_60s":                int64(467),
		"node_put_fsm_counter_time_100":          int64(0),
		"node_put_fsm_counter_time_95":           int64(0),
		"node_put_fsm_counter_time_99":           int64(0),
		"node_put_fsm_counter_time_mean":         int64(0),
		"node_put_fsm_counter_time_median":       int64(0),
		"node_put_fsm_hll_time_100":              int64(0),
		"node_put_fsm_hll_time_95":               int64(0),
		"node_put_fsm_hll_time_99":               int64(0),
		"node_put_fsm_hll_time_mean":             int64(0),
		"node_put_fsm_hll_time_median":           int64(0),
		"node_put_fsm_in_rate":                   int64(9),
		"node_put_fsm_map_time_100":              int64(0),
		"node_put_fsm_map_time_95":               int64(0),
		"node_put_fsm_map_time_99":               int64(0),
		"node_put_fsm_map_time_mean":             int64(0),
		"node_put_fsm_map_time_median":           int64(0),
		"node_put_fsm_out_rate":                  int64(9),
		"node_put_fsm_rejected":                  int64(0),
		"node_put_fsm_rejected_60s":              int64(0),
		"node_put_fsm_rejected_total":            int64(0),
		"node_put_fsm_set_time_100":              int64(0),
		"node_put_fsm_set_time_95":               int64(0),
		"node_put_fsm_set_time_99":               int64(0),
		"node_put_fsm_set_time_mean":             int64(0),
		"node_put_fsm_set_time_median":           int64(0),
		"node_put_fsm_time_100":                  int64(40780),
		"node_put_fsm_time_95":                   int64(4691),
		"node_put_fsm_time_99":                   int64(29068),
		"node_put_fsm_time_mean":                 int64(3283),
		"node_put_fsm_time_median":               int64(2439),
		"node_puts":                              int64(216),
		"node_puts_counter":                      int64(0),
		"node_puts_counter_total":                int64(0),
		"node_puts_hll":                          int64(0),
		"node_puts_hll_total":                    int64(0),
		"node_puts_map":                          int64(0),
		"node_puts_map_total":                    int64(0),
		"node_puts_set":                          int64(0),
		"node_puts_set_total":                    int64(0),
		"node_puts_total":                        int64(1031970),
		"object_counter_merge":                   int64(0),
		"object_counter_merge_time_100":          int64(0),
		"object_counter_merge_time_95":           int64(0),
		"object_counter_merge_time_99":           int64(0),
		"object_counter_merge_time_mean":         int64(0),
		"object_counter_merge_time_median":       int64(0),
		"object_counter_merge_total":             int64(0),
		"object_hll_merge":                       int64(0),
		"object_hll_merge_time_100":              int64(0),
		"object_hll_merge_time_95":               int64(0),
		"object_hll_merge_time_99":               int64(0),
		"object_hll_merge_time_mean":             int64(0),
		"object_hll_merge_time_median":           int64(0),
		"object_hll_merge_total":                 int64(0),
		"object_map_merge":                       int64(0),
		"object_map_merge_time_100":              int64(0),
		"object_map_merge_time_95":               int64(0),
		"object_map_merge_time_99":               int64(0),
		"object_map_merge_time_mean":             int64(0),
		"object_map_merge_time_median":           int64(0),
		"object_map_merge_total":                 int64(0),
		"object_merge":                           int64(7),
		"object_merge_time_100":                  int64(43),
		"object_merge_time_95":                   int64(43),
		"object_merge_time_99":                   int64(43),
		"object_merge_time_mean":                 int64(35),
		"object_merge_time_median":               int64(39),
		"object_merge_total":                     int64(132319),
		"object_set_merge":                       int64(0),
		"object_set_merge_time_100":              int64(0),
		"object_set_merge_time_95":               int64(0),
		"object_set_merge_time_99":               int64(0),
		"object_set_merge_time_mean":             int64(0),
		"object_set_merge_time_median":           int64(0),
		"object_set_merge_total":                 int64(0),
		"pbc_active":                             int64(171),
		"pbc_connects":                           int64(2),
		"pbc_connects_total":                     int64(2680),
		"pipeline_active":                        int64(0),
		"pipeline_create_count":                  int64(0),
		"pipeline_create_error_count":            int64(0),
		"pipeline_create_error_one":              int64(0),
		"pipeline_create_one":                    int64(0),
		"postcommit_fail":                        int64(0),
		"precommit_fail":                         int64(0),
		"read_repairs":                           int64(5),
		"read_repairs_counter":                   int64(0),
		"read_repairs_counter_total":             int64(0),
		"read_repairs_fallback_notfound_count":   int64(18330),
		"read_repairs_fallback_notfound_one":     int64(0),
		"read_repairs_fallback_outofdate_count":  int64(36),
		"read_repairs_fallback_outofdate_one":    int64(0),
		"read_repairs_hll":                       int64(0),
		"read_repairs_hll_total":                 int64(0),
		"read_repairs_map":                       int64(0),
		"read_repairs_map_total":                 int64(0),
		"read_repairs_primary_notfound_count":    int64(12258),
		"read_repairs_primary_notfound_one":      int64(2),
		"read_repairs_primary_outofdate_count":   int64(46411),
		"read_repairs_primary_outofdate_one":     int64(6),
		"read_repairs_set":                       int64(0),
		"read_repairs_set_total":                 int64(0),
		"read_repairs_total":                     int64(53957),
		"rebalance_delay_last":                   int64(0),
		"rebalance_delay_max":                    int64(0),
		"rebalance_delay_mean":                   int64(0),
		"rebalance_delay_min":                    int64(0),
		"rejected_handoffs":                      int64(2),
		"riak_kv_vnodeq_max":                     int64(0),
		"riak_kv_vnodeq_mean":                    int64(0),
		"riak_kv_vnodeq_median":                  int64(0),
		"riak_kv_vnodeq_min":                     int64(0),
		"riak_kv_vnodeq_total":                   int64(0),
		"riak_kv_vnodes_running":                 int64(2),
		"riak_pipe_vnodeq_max":                   int64(0),
		"riak_pipe_vnodeq_mean":                  int64(0),
		"riak_pipe_vnodeq_median":                int64(0),
		"riak_pipe_vnodeq_min":                   int64(0),
		"riak_pipe_vnodeq_total":                 int64(0),
		"riak_pipe_vnodes_running":               int64(2),
		"ring_creation_size":                     int64(64),
		"ring_num_partitions":                    int64(64),
		"rings_reconciled":                       int64(0),
		"rings_reconciled_total":                 int64(879),
		"set_actor_counts_100":                   int64(0),
		"set_actor_counts_95":                    int64(0),
		"set_actor_counts_99":                    int64(0),
		"set_actor_counts_mean":                  int64(0),
		"set_actor_counts_median":                int64(0),
		"skipped_read_repairs":                   int64(0),
		"skipped_read_repairs_total":             int64(0),
		"soft_loaded_vnode_mbox_total":           int64(8526),
		"sys_logical_processors":                 int64(56),
		"sys_monitor_count":                      int64(341),
		"sys_otp_release":                        string("22"),
		"sys_port_count":                         int64(220),
		"sys_process_count":                      int64(10984),
		"sys_thread_pool_size":                   int64(128),
		"sys_wordsize":                           int64(8),
		"tictacaae_branch_compare":               int64(0),
		"tictacaae_branch_compare_total":         int64(0),
		"tictacaae_bucket":                       int64(0),
		"tictacaae_bucket_total":                 int64(0),
		"tictacaae_clock_compare":                int64(0),
		"tictacaae_clock_compare_total":          int64(26),
		"tictacaae_error":                        int64(0),
		"tictacaae_error_total":                  int64(1),
		"tictacaae_exchange":                     int64(0),
		"tictacaae_exchange_total":               int64(3209),
		"tictacaae_modtime":                      int64(0),
		"tictacaae_modtime_total":                int64(0),
		"tictacaae_not_supported":                int64(0),
		"tictacaae_not_supported_total":          int64(269),
		"tictacaae_queue_microsec__max":          int64(84),
		"tictacaae_queue_microsec_mean":          int64(46),
		"tictacaae_root_compare":                 int64(0),
		"tictacaae_root_compare_total":           int64(0),
		"tictacaae_timeout":                      int64(0),
		"tictacaae_timeout_total":                int64(17),
		"ttaaefs_allcheck_total":                 int64(0),
		"ttaaefs_daycheck_total":                 int64(0),
		"ttaaefs_fail_time_100":                  int64(0),
		"ttaaefs_fail_total":                     int64(0),
		"ttaaefs_hourcheck_total":                int64(0),
		"ttaaefs_nosync_time_100":                int64(0),
		"ttaaefs_nosync_total":                   int64(0),
		"ttaaefs_rangecheck_total":               int64(0),
		"ttaaefs_snk_ahead_total":                int64(0),
		"ttaaefs_src_ahead_total":                int64(0),
		"ttaaefs_sync_time_100":                  int64(0),
		"ttaaefs_sync_total":                     int64(0),
		"vnode_counter_update":                   int64(0),
		"vnode_counter_update_time_100":          int64(0),
		"vnode_counter_update_time_95":           int64(0),
		"vnode_counter_update_time_99":           int64(0),
		"vnode_counter_update_time_mean":         int64(0),
		"vnode_counter_update_time_median":       int64(0),
		"vnode_counter_update_total":             int64(0),
		"vnode_get_fsm_time_100":                 int64(67131),
		"vnode_get_fsm_time_95":                  int64(514),
		"vnode_get_fsm_time_99":                  int64(979),
		"vnode_get_fsm_time_mean":                int64(330),
		"vnode_get_fsm_time_median":              int64(234),
		"vnode_gets":                             int64(25001),
		"vnode_gets_total":                       int64(58532924),
		"vnode_head_fsm_time_100":                int64(0),
		"vnode_head_fsm_time_95":                 int64(0),
		"vnode_head_fsm_time_99":                 int64(0),
		"vnode_head_fsm_time_mean":               int64(0),
		"vnode_head_fsm_time_median":             int64(0),
		"vnode_heads":                            int64(0),
		"vnode_heads_total":                      int64(0),
		"vnode_hll_update":                       int64(0),
		"vnode_hll_update_time_100":              int64(0),
		"vnode_hll_update_time_95":               int64(0),
		"vnode_hll_update_time_99":               int64(0),
		"vnode_hll_update_time_mean":             int64(0),
		"vnode_hll_update_time_median":           int64(0),
		"vnode_hll_update_total":                 int64(0),
		"vnode_index_deletes":                    int64(0),
		"vnode_index_deletes_postings":           int64(8),
		"vnode_index_deletes_postings_total":     int64(26673),
		"vnode_index_deletes_total":              int64(0),
		"vnode_index_reads":                      int64(9585),
		"vnode_index_reads_total":                int64(5240341),
		"vnode_index_refreshes":                  int64(0),
		"vnode_index_refreshes_total":            int64(0),
		"vnode_index_writes":                     int64(631),
		"vnode_index_writes_postings":            int64(178),
		"vnode_index_writes_postings_total":      int64(1339339),
		"vnode_index_writes_total":               int64(3558656),
		"vnode_map_update":                       int64(0),
		"vnode_map_update_time_100":              int64(0),
		"vnode_map_update_time_95":               int64(0),
		"vnode_map_update_time_99":               int64(0),
		"vnode_map_update_time_mean":             int64(0),
		"vnode_map_update_time_median":           int64(0),
		"vnode_map_update_total":                 int64(0),
		"vnode_mbox_check_timeout_total":         int64(14),
		"vnode_put_fsm_time_100":                 int64(6476),
		"vnode_put_fsm_time_95":                  int64(1114),
		"vnode_put_fsm_time_99":                  int64(1724),
		"vnode_put_fsm_time_mean":                int64(746),
		"vnode_put_fsm_time_median":              int64(690),
		"vnode_puts":                             int64(977),
		"vnode_puts_total":                       int64(4881326),
		"vnode_set_update":                       int64(0),
		"vnode_set_update_time_100":              int64(0),
		"vnode_set_update_time_95":               int64(0),
		"vnode_set_update_time_99":               int64(0),
		"vnode_set_update_time_mean":             int64(0),
		"vnode_set_update_time_median":           int64(0),
		"vnode_set_update_total":                 int64(0),
		"worker_af1_pool_queuetime_100":          int64(0),
		"worker_af1_pool_queuetime_mean":         int64(0),
		"worker_af1_pool_total":                  int64(2),
		"worker_af1_pool_worktime_100":           int64(0),
		"worker_af1_pool_worktime_mean":          int64(0),
		"worker_af2_pool_queuetime_100":          int64(0),
		"worker_af2_pool_queuetime_mean":         int64(0),
		"worker_af2_pool_total":                  int64(0),
		"worker_af2_pool_worktime_100":           int64(0),
		"worker_af2_pool_worktime_mean":          int64(0),
		"worker_af3_pool_queuetime_100":          int64(0),
		"worker_af3_pool_queuetime_mean":         int64(0),
		"worker_af3_pool_total":                  int64(0),
		"worker_af3_pool_worktime_100":           int64(0),
		"worker_af3_pool_worktime_mean":          int64(0),
		"worker_af4_pool_queuetime_100":          int64(0),
		"worker_af4_pool_queuetime_mean":         int64(0),
		"worker_af4_pool_total":                  int64(0),
		"worker_af4_pool_worktime_100":           int64(0),
		"worker_af4_pool_worktime_mean":          int64(0),
		"worker_be_pool_queuetime_100":           int64(0),
		"worker_be_pool_queuetime_mean":          int64(0),
		"worker_be_pool_total":                   int64(0),
		"worker_be_pool_worktime_100":            int64(0),
		"worker_be_pool_worktime_mean":           int64(0),
		"worker_node_worker_pool_queuetime_100":  int64(0),
		"worker_node_worker_pool_queuetime_mean": int64(0),
		"worker_node_worker_pool_total":          int64(0),
		"worker_node_worker_pool_worktime_100":   int64(0),
		"worker_node_worker_pool_worktime_mean":  int64(0),
		"worker_unregistered_queuetime_100":      int64(0),
		"worker_unregistered_queuetime_mean":     int64(0),
		"worker_unregistered_total":              int64(0),
		"worker_unregistered_worktime_100":       int64(0),
		"worker_unregistered_worktime_mean":      int64(0),
		"worker_vnode_pool_queuetime_100":        int64(1851),
		"worker_vnode_pool_queuetime_mean":       int64(0),
		"worker_vnode_pool_total":                int64(0),
		"worker_vnode_pool_worktime_100":         int64(17486),
		"worker_vnode_pool_worktime_mean":        int64(1406),
		"write_once_merge":                       int64(0),
		"write_once_put_objsize_100":             int64(0),
		"write_once_put_objsize_95":              int64(0),
		"write_once_put_objsize_99":              int64(0),
		"write_once_put_objsize_mean":            int64(0),
		"write_once_put_objsize_median":          int64(0),
		"write_once_put_time_100":                int64(0),
		"write_once_put_time_95":                 int64(0),
		"write_once_put_time_99":                 int64(0),
		"write_once_put_time_mean":               int64(0),
		"write_once_put_time_median":             int64(0),
		"write_once_puts":                        int64(0),
		"write_once_puts_total":                  int64(0),
	}

	// Expect the correct values for all tags
	expectTags := map[string]string{
		"nodename": "riak@127.0.0.1",
		"server":   u.Host,
	}

	acc.AssertContainsTaggedFields(t, "riak", expectFields, expectTags)
}

var response = `
{
  "clusteraae_fsm_active": 0,
  "clusteraae_fsm_create": 0,
  "clusteraae_fsm_create_error": 0,
  "connected_nodes": [
    "riak@127.0.0.1"
  ],
  "consistent_get_objsize_100": 0,
  "consistent_get_objsize_95": 0,
  "consistent_get_objsize_99": 0,
  "consistent_get_objsize_mean": 0,
  "consistent_get_objsize_median": 0,
  "consistent_get_time_100": 0,
  "consistent_get_time_95": 0,
  "consistent_get_time_99": 0,
  "consistent_get_time_mean": 0,
  "consistent_get_time_median": 0,
  "consistent_gets": 0,
  "consistent_gets_total": 0,
  "consistent_put_objsize_100": 0,
  "consistent_put_objsize_95": 0,
  "consistent_put_objsize_99": 0,
  "consistent_put_objsize_mean": 0,
  "consistent_put_objsize_median": 0,
  "consistent_put_time_100": 0,
  "consistent_put_time_95": 0,
  "consistent_put_time_99": 0,
  "consistent_put_time_mean": 0,
  "consistent_put_time_median": 0,
  "consistent_puts": 0,
  "consistent_puts_total": 0,
  "converge_delay_last": 0,
  "converge_delay_max": 0,
  "converge_delay_mean": 0,
  "converge_delay_min": 0,
  "coord_local_soft_loaded_total": 2,
  "coord_local_unloaded_total": 145976,
  "coord_redir_least_loaded_total": 16,
  "coord_redir_loaded_local_total": 234,
  "coord_redir_unloaded_total": 1399757,
  "coord_redirs_total": 0,
  "counter_actor_counts_100": 0,
  "counter_actor_counts_95": 0,
  "counter_actor_counts_99": 0,
  "counter_actor_counts_mean": 0,
  "counter_actor_counts_median": 0,
  "cpu_avg1": 1329,
  "cpu_avg15": 1375,
  "cpu_avg5": 1254,
  "cpu_nprocs": 2307,
  "dropped_vnode_requests_total": 0,
  "executing_mappers": 0,
  "gossip_received": 5,
  "handoff_timeouts": 0,
  "hll_bytes": 0,
  "hll_bytes_100": 0,
  "hll_bytes_95": 0,
  "hll_bytes_99": 0,
  "hll_bytes_mean": 0,
  "hll_bytes_median": 0,
  "hll_bytes_total": 0,
  "ignored_gossip_total": 0,
  "index_fsm_active": 0,
  "index_fsm_complete": 1,
  "index_fsm_create": 1,
  "index_fsm_create_error": 0,
  "index_fsm_results_100": 13,
  "index_fsm_results_95": 13,
  "index_fsm_results_99": 13,
  "index_fsm_results_mean": 13,
  "index_fsm_results_median": 13,
  "index_fsm_time_100": 30981,
  "index_fsm_time_95": 30981,
  "index_fsm_time_99": 30981,
  "index_fsm_time_mean": 30981,
  "index_fsm_time_median": 30981,
  "late_put_fsm_coordinator_ack": 0,
  "leveldb_read_block_error": 0,
  "list_fsm_active": 0,
  "list_fsm_create": 0,
  "list_fsm_create_error": 0,
  "list_fsm_create_error_total": 0,
  "list_fsm_create_total": 1,
  "map_actor_counts_100": 0,
  "map_actor_counts_95": 0,
  "map_actor_counts_99": 0,
  "map_actor_counts_mean": 0,
  "map_actor_counts_median": 0,
  "mem_allocated": 200073379840,
  "mem_total": 202426757120,
  "memory_atom": 1189081,
  "memory_atom_used": 1167121,
  "memory_binary": 2432859000,
  "memory_code": 18126088,
  "memory_ets": 15329248,
  "memory_processes": 3132288096,
  "memory_processes_used": 3131937632,
  "memory_system": 2501227376,
  "memory_total": 5633515472,
  "ngrfetch_nofetch": 0,
  "ngrfetch_nofetch_total": 0,
  "ngrfetch_prefetch": 0,
  "ngrfetch_prefetch_total": 0,
  "ngrfetch_tofetch": 0,
  "ngrfetch_tofetch_total": 0,
  "ngrrepl_empty": 0,
  "ngrrepl_empty_total": 0,
  "ngrrepl_error": 0,
  "ngrrepl_error_total": 0,
  "ngrrepl_object": 0,
  "ngrrepl_object_total": 0,
  "ngrrepl_srcdiscard": 0,
  "ngrrepl_srcdiscard_total": 0,
  "node_get_fsm_active": 0,
  "node_get_fsm_active_60s": 4028,
  "node_get_fsm_counter_objsize_100": 0,
  "node_get_fsm_counter_objsize_95": 0,
  "node_get_fsm_counter_objsize_99": 0,
  "node_get_fsm_counter_objsize_mean": 0,
  "node_get_fsm_counter_objsize_median": 0,
  "node_get_fsm_counter_siblings_100": 0,
  "node_get_fsm_counter_siblings_95": 0,
  "node_get_fsm_counter_siblings_99": 0,
  "node_get_fsm_counter_siblings_mean": 0,
  "node_get_fsm_counter_siblings_median": 0,
  "node_get_fsm_counter_time_100": 0,
  "node_get_fsm_counter_time_95": 0,
  "node_get_fsm_counter_time_99": 0,
  "node_get_fsm_counter_time_mean": 0,
  "node_get_fsm_counter_time_median": 0,
  "node_get_fsm_errors": 0,
  "node_get_fsm_errors_total": 0,
  "node_get_fsm_hll_objsize_100": 0,
  "node_get_fsm_hll_objsize_95": 0,
  "node_get_fsm_hll_objsize_99": 0,
  "node_get_fsm_hll_objsize_mean": 0,
  "node_get_fsm_hll_objsize_median": 0,
  "node_get_fsm_hll_siblings_100": 0,
  "node_get_fsm_hll_siblings_95": 0,
  "node_get_fsm_hll_siblings_99": 0,
  "node_get_fsm_hll_siblings_mean": 0,
  "node_get_fsm_hll_siblings_median": 0,
  "node_get_fsm_hll_time_100": 0,
  "node_get_fsm_hll_time_95": 0,
  "node_get_fsm_hll_time_99": 0,
  "node_get_fsm_hll_time_mean": 0,
  "node_get_fsm_hll_time_median": 0,
  "node_get_fsm_in_rate": 47,
  "node_get_fsm_map_objsize_100": 0,
  "node_get_fsm_map_objsize_95": 0,
  "node_get_fsm_map_objsize_99": 0,
  "node_get_fsm_map_objsize_mean": 0,
  "node_get_fsm_map_objsize_median": 0,
  "node_get_fsm_map_siblings_100": 0,
  "node_get_fsm_map_siblings_95": 0,
  "node_get_fsm_map_siblings_99": 0,
  "node_get_fsm_map_siblings_mean": 0,
  "node_get_fsm_map_siblings_median": 0,
  "node_get_fsm_map_time_100": 0,
  "node_get_fsm_map_time_95": 0,
  "node_get_fsm_map_time_99": 0,
  "node_get_fsm_map_time_mean": 0,
  "node_get_fsm_map_time_median": 0,
  "node_get_fsm_objsize_100": 1056106,
  "node_get_fsm_objsize_95": 20028,
  "node_get_fsm_objsize_99": 83188,
  "node_get_fsm_objsize_mean": 6591,
  "node_get_fsm_objsize_median": 1392,
  "node_get_fsm_out_rate": 47,
  "node_get_fsm_rejected": 0,
  "node_get_fsm_rejected_60s": 0,
  "node_get_fsm_rejected_total": 0,
  "node_get_fsm_set_objsize_100": 0,
  "node_get_fsm_set_objsize_95": 0,
  "node_get_fsm_set_objsize_99": 0,
  "node_get_fsm_set_objsize_mean": 0,
  "node_get_fsm_set_objsize_median": 0,
  "node_get_fsm_set_siblings_100": 0,
  "node_get_fsm_set_siblings_95": 0,
  "node_get_fsm_set_siblings_99": 0,
  "node_get_fsm_set_siblings_mean": 0,
  "node_get_fsm_set_siblings_median": 0,
  "node_get_fsm_set_time_100": 0,
  "node_get_fsm_set_time_95": 0,
  "node_get_fsm_set_time_99": 0,
  "node_get_fsm_set_time_mean": 0,
  "node_get_fsm_set_time_median": 0,
  "node_get_fsm_siblings_100": 1,
  "node_get_fsm_siblings_95": 1,
  "node_get_fsm_siblings_99": 1,
  "node_get_fsm_siblings_mean": 1,
  "node_get_fsm_siblings_median": 1,
  "node_get_fsm_time_100": 40252,
  "node_get_fsm_time_95": 3389,
  "node_get_fsm_time_99": 11692,
  "node_get_fsm_time_mean": 1615,
  "node_get_fsm_time_median": 1100,
  "node_gets": 3112,
  "node_gets_counter": 0,
  "node_gets_counter_total": 0,
  "node_gets_hll": 0,
  "node_gets_hll_total": 0,
  "node_gets_map": 0,
  "node_gets_map_total": 0,
  "node_gets_set": 0,
  "node_gets_set_total": 0,
  "node_gets_total": 17297541,
  "node_put_fsm_active": 0,
  "node_put_fsm_active_60s": 467,
  "node_put_fsm_counter_time_100": 0,
  "node_put_fsm_counter_time_95": 0,
  "node_put_fsm_counter_time_99": 0,
  "node_put_fsm_counter_time_mean": 0,
  "node_put_fsm_counter_time_median": 0,
  "node_put_fsm_hll_time_100": 0,
  "node_put_fsm_hll_time_95": 0,
  "node_put_fsm_hll_time_99": 0,
  "node_put_fsm_hll_time_mean": 0,
  "node_put_fsm_hll_time_median": 0,
  "node_put_fsm_in_rate": 9,
  "node_put_fsm_map_time_100": 0,
  "node_put_fsm_map_time_95": 0,
  "node_put_fsm_map_time_99": 0,
  "node_put_fsm_map_time_mean": 0,
  "node_put_fsm_map_time_median": 0,
  "node_put_fsm_out_rate": 9,
  "node_put_fsm_rejected": 0,
  "node_put_fsm_rejected_60s": 0,
  "node_put_fsm_rejected_total": 0,
  "node_put_fsm_set_time_100": 0,
  "node_put_fsm_set_time_95": 0,
  "node_put_fsm_set_time_99": 0,
  "node_put_fsm_set_time_mean": 0,
  "node_put_fsm_set_time_median": 0,
  "node_put_fsm_time_100": 40780,
  "node_put_fsm_time_95": 4691,
  "node_put_fsm_time_99": 29068,
  "node_put_fsm_time_mean": 3283,
  "node_put_fsm_time_median": 2439,
  "node_puts": 216,
  "node_puts_counter": 0,
  "node_puts_counter_total": 0,
  "node_puts_hll": 0,
  "node_puts_hll_total": 0,
  "node_puts_map": 0,
  "node_puts_map_total": 0,
  "node_puts_set": 0,
  "node_puts_set_total": 0,
  "node_puts_total": 1031970,
  "nodename": "riak@127.0.0.1",
  "object_counter_merge": 0,
  "object_counter_merge_time_100": 0,
  "object_counter_merge_time_95": 0,
  "object_counter_merge_time_99": 0,
  "object_counter_merge_time_mean": 0,
  "object_counter_merge_time_median": 0,
  "object_counter_merge_total": 0,
  "object_hll_merge": 0,
  "object_hll_merge_time_100": 0,
  "object_hll_merge_time_95": 0,
  "object_hll_merge_time_99": 0,
  "object_hll_merge_time_mean": 0,
  "object_hll_merge_time_median": 0,
  "object_hll_merge_total": 0,
  "object_map_merge": 0,
  "object_map_merge_time_100": 0,
  "object_map_merge_time_95": 0,
  "object_map_merge_time_99": 0,
  "object_map_merge_time_mean": 0,
  "object_map_merge_time_median": 0,
  "object_map_merge_total": 0,
  "object_merge": 7,
  "object_merge_time_100": 43,
  "object_merge_time_95": 43,
  "object_merge_time_99": 43,
  "object_merge_time_mean": 35,
  "object_merge_time_median": 39,
  "object_merge_total": 132319,
  "object_set_merge": 0,
  "object_set_merge_time_100": 0,
  "object_set_merge_time_95": 0,
  "object_set_merge_time_99": 0,
  "object_set_merge_time_mean": 0,
  "object_set_merge_time_median": 0,
  "object_set_merge_total": 0,
  "pbc_active": 171,
  "pbc_connects": 2,
  "pbc_connects_total": 2680,
  "pipeline_active": 0,
  "pipeline_create_count": 0,
  "pipeline_create_error_count": 0,
  "pipeline_create_error_one": 0,
  "pipeline_create_one": 0,
  "postcommit_fail": 0,
  "precommit_fail": 0,
  "read_repairs": 5,
  "read_repairs_counter": 0,
  "read_repairs_counter_total": 0,
  "read_repairs_fallback_notfound_count": 18330,
  "read_repairs_fallback_notfound_one": 0,
  "read_repairs_fallback_outofdate_count": 36,
  "read_repairs_fallback_outofdate_one": 0,
  "read_repairs_hll": 0,
  "read_repairs_hll_total": 0,
  "read_repairs_map": 0,
  "read_repairs_map_total": 0,
  "read_repairs_primary_notfound_count": 12258,
  "read_repairs_primary_notfound_one": 2,
  "read_repairs_primary_outofdate_count": 46411,
  "read_repairs_primary_outofdate_one": 6,
  "read_repairs_set": 0,
  "read_repairs_set_total": 0,
  "read_repairs_total": 53957,
  "rebalance_delay_last": 0,
  "rebalance_delay_max": 0,
  "rebalance_delay_mean": 0,
  "rebalance_delay_min": 0,
  "rejected_handoffs": 2,
  "riak_kv_vnodeq_max": 0,
  "riak_kv_vnodeq_mean": 0,
  "riak_kv_vnodeq_median": 0,
  "riak_kv_vnodeq_min": 0,
  "riak_kv_vnodeq_total": 0,
  "riak_kv_vnodes_running": 2,
  "riak_pipe_vnodeq_max": 0,
  "riak_pipe_vnodeq_mean": 0,
  "riak_pipe_vnodeq_median": 0,
  "riak_pipe_vnodeq_min": 0,
  "riak_pipe_vnodeq_total": 0,
  "riak_pipe_vnodes_running": 2,
  "ring_creation_size": 64,
  "ring_members": [
    "riak@127.0.0.1"
  ],
  "ring_num_partitions": 64,
  "ring_ownership": "[{'riak@127.0.0.1',64}]",
  "rings_reconciled": 0,
  "rings_reconciled_total": 879,
  "set_actor_counts_100": 0,
  "set_actor_counts_95": 0,
  "set_actor_counts_99": 0,
  "set_actor_counts_mean": 0,
  "set_actor_counts_median": 0,
  "skipped_read_repairs": 0,
  "skipped_read_repairs_total": 0,
  "soft_loaded_vnode_mbox_total": 8526,
  "storage_backend": "riak_kv_multi_backend",
  "sys_driver_version": "3.3",
  "sys_global_heaps_size": "deprecated",
  "sys_heap_type": "private",
  "sys_logical_processors": 56,
  "sys_monitor_count": 341,
  "sys_otp_release": "22",
  "sys_port_count": 220,
  "sys_process_count": 10984,
  "sys_smp_support": true,
  "sys_system_architecture": "x86_64-unknown-linux-gnu",
  "sys_system_version": "Erlang/OTP 22 [erts-10.7] [source] [64-bit] [smp:24:24] [ds:24:24:10] [async-threads:128]",
  "sys_thread_pool_size": 128,
  "sys_threads_enabled": true,
  "sys_wordsize": 8,
  "tictacaae_branch_compare": 0,
  "tictacaae_branch_compare_total": 0,
  "tictacaae_bucket": 0,
  "tictacaae_bucket_total": 0,
  "tictacaae_clock_compare": 0,
  "tictacaae_clock_compare_total": 26,
  "tictacaae_error": 0,
  "tictacaae_error_total": 1,
  "tictacaae_exchange": 0,
  "tictacaae_exchange_total": 3209,
  "tictacaae_modtime": 0,
  "tictacaae_modtime_total": 0,
  "tictacaae_not_supported": 0,
  "tictacaae_not_supported_total": 269,
  "tictacaae_queue_microsec__max": 84,
  "tictacaae_queue_microsec_mean": 46,
  "tictacaae_root_compare": 0,
  "tictacaae_root_compare_total": 0,
  "tictacaae_timeout": 0,
  "tictacaae_timeout_total": 17,
  "ttaaefs_allcheck_total": 0,
  "ttaaefs_daycheck_total": 0,
  "ttaaefs_fail_time_100": 0,
  "ttaaefs_fail_total": 0,
  "ttaaefs_hourcheck_total": 0,
  "ttaaefs_nosync_time_100": 0,
  "ttaaefs_nosync_total": 0,
  "ttaaefs_rangecheck_total": 0,
  "ttaaefs_snk_ahead_total": 0,
  "ttaaefs_src_ahead_total": 0,
  "ttaaefs_sync_time_100": 0,
  "ttaaefs_sync_total": 0,
  "vnode_counter_update": 0,
  "vnode_counter_update_time_100": 0,
  "vnode_counter_update_time_95": 0,
  "vnode_counter_update_time_99": 0,
  "vnode_counter_update_time_mean": 0,
  "vnode_counter_update_time_median": 0,
  "vnode_counter_update_total": 0,
  "vnode_get_fsm_time_100": 67131,
  "vnode_get_fsm_time_95": 514,
  "vnode_get_fsm_time_99": 979,
  "vnode_get_fsm_time_mean": 330,
  "vnode_get_fsm_time_median": 234,
  "vnode_gets": 25001,
  "vnode_gets_total": 58532924,
  "vnode_head_fsm_time_100": 0,
  "vnode_head_fsm_time_95": 0,
  "vnode_head_fsm_time_99": 0,
  "vnode_head_fsm_time_mean": 0,
  "vnode_head_fsm_time_median": 0,
  "vnode_heads": 0,
  "vnode_heads_total": 0,
  "vnode_hll_update": 0,
  "vnode_hll_update_time_100": 0,
  "vnode_hll_update_time_95": 0,
  "vnode_hll_update_time_99": 0,
  "vnode_hll_update_time_mean": 0,
  "vnode_hll_update_time_median": 0,
  "vnode_hll_update_total": 0,
  "vnode_index_deletes": 0,
  "vnode_index_deletes_postings": 8,
  "vnode_index_deletes_postings_total": 26673,
  "vnode_index_deletes_total": 0,
  "vnode_index_reads": 9585,
  "vnode_index_reads_total": 5240341,
  "vnode_index_refreshes": 0,
  "vnode_index_refreshes_total": 0,
  "vnode_index_writes": 631,
  "vnode_index_writes_postings": 178,
  "vnode_index_writes_postings_total": 1339339,
  "vnode_index_writes_total": 3558656,
  "vnode_map_update": 0,
  "vnode_map_update_time_100": 0,
  "vnode_map_update_time_95": 0,
  "vnode_map_update_time_99": 0,
  "vnode_map_update_time_mean": 0,
  "vnode_map_update_time_median": 0,
  "vnode_map_update_total": 0,
  "vnode_mbox_check_timeout_total": 14,
  "vnode_put_fsm_time_100": 6476,
  "vnode_put_fsm_time_95": 1114,
  "vnode_put_fsm_time_99": 1724,
  "vnode_put_fsm_time_mean": 746,
  "vnode_put_fsm_time_median": 690,
  "vnode_puts": 977,
  "vnode_puts_total": 4881326,
  "vnode_set_update": 0,
  "vnode_set_update_time_100": 0,
  "vnode_set_update_time_95": 0,
  "vnode_set_update_time_99": 0,
  "vnode_set_update_time_mean": 0,
  "vnode_set_update_time_median": 0,
  "vnode_set_update_total": 0,
  "worker_af1_pool_queuetime_100": 0,
  "worker_af1_pool_queuetime_mean": 0,
  "worker_af1_pool_total": 2,
  "worker_af1_pool_worktime_100": 0,
  "worker_af1_pool_worktime_mean": 0,
  "worker_af2_pool_queuetime_100": 0,
  "worker_af2_pool_queuetime_mean": 0,
  "worker_af2_pool_total": 0,
  "worker_af2_pool_worktime_100": 0,
  "worker_af2_pool_worktime_mean": 0,
  "worker_af3_pool_queuetime_100": 0,
  "worker_af3_pool_queuetime_mean": 0,
  "worker_af3_pool_total": 0,
  "worker_af3_pool_worktime_100": 0,
  "worker_af3_pool_worktime_mean": 0,
  "worker_af4_pool_queuetime_100": 0,
  "worker_af4_pool_queuetime_mean": 0,
  "worker_af4_pool_total": 0,
  "worker_af4_pool_worktime_100": 0,
  "worker_af4_pool_worktime_mean": 0,
  "worker_be_pool_queuetime_100": 0,
  "worker_be_pool_queuetime_mean": 0,
  "worker_be_pool_total": 0,
  "worker_be_pool_worktime_100": 0,
  "worker_be_pool_worktime_mean": 0,
  "worker_node_worker_pool_queuetime_100": 0,
  "worker_node_worker_pool_queuetime_mean": 0,
  "worker_node_worker_pool_total": 0,
  "worker_node_worker_pool_worktime_100": 0,
  "worker_node_worker_pool_worktime_mean": 0,
  "worker_unregistered_queuetime_100": 0,
  "worker_unregistered_queuetime_mean": 0,
  "worker_unregistered_total": 0,
  "worker_unregistered_worktime_100": 0,
  "worker_unregistered_worktime_mean": 0,
  "worker_vnode_pool_queuetime_100": 1851,
  "worker_vnode_pool_queuetime_mean": 0,
  "worker_vnode_pool_total": 0,
  "worker_vnode_pool_worktime_100": 17486,
  "worker_vnode_pool_worktime_mean": 1406,
  "write_once_merge": 0,
  "write_once_put_objsize_100": 0,
  "write_once_put_objsize_95": 0,
  "write_once_put_objsize_99": 0,
  "write_once_put_objsize_mean": 0,
  "write_once_put_objsize_median": 0,
  "write_once_put_time_100": 0,
  "write_once_put_time_95": 0,
  "write_once_put_time_99": 0,
  "write_once_put_time_mean": 0,
  "write_once_put_time_median": 0,
  "write_once_puts": 0,
  "write_once_puts_total": 0,
  "disk": [
    {
      "id": "/",
      "size": 52399104,
      "used": 14
    },
    {
      "id": "/var",
      "size": 9316870144,
      "used": 71
    }
  ],
  "riak_auth_mods_version": "riak_kv-3.0.10",
  "canola_version": "2.1.0",
  "riaknostic_version": "riak_kv-3.0.10",
  "riak_repl_version": "riak_kv-3.0.10",
  "ranch_version": "1.6.0",
  "riak_kv_version": "riak_kv-3.0.10",
  "riak_api_version": "riak_kv-3.0.10",
  "ebloom_version": "2.0.0",
  "riakhttpc_version": "1.3.1",
  "ibrowse_version": "4.4.2",
  "riakc_version": "3.0.10",
  "riak_pb_version": "3.0.10",
  "recon_version": "2.5.2",
  "redbug_version": "1.2.2",
  "runtime_tools_version": "1.14",
  "hyper_version": "1.0",
  "kv_index_tictactree_version": "1.0.2",
  "leveled_version": "1.0.7",
  "lz4_version": "0.2.2",
  "sext_version": "1.4.1",
  "riak_dt_version": "riak_kv-3.0.0",
  "sidejob_version": "2.1.0",
  "riak_pipe_version": "riak_kv-3.0.9",
  "riak_core_version": "riak_kv-3.0.10",
  "exometer_core_version": "1.6.1",
  "os_mon_version": "2.5.1",
  "webmachine_version": "1.11.1",
  "mochiweb_version": "2.20.0",
  "ssl_version": "9.6",
  "eleveldb_version": "riak_kv-3.0.10",
  "cluster_info_version": "2.1.0",
  "poolboy_version": "riak_kv-3.0.0",
  "pbkdf2_version": "2.1.0",
  "basho_stats_version": "1.1.0",
  "clique_version": "0.3.12",
  "riak_sysmon_version": "2.2.1",
  "cuttlefish_version": "2.1.1",
  "lager_version": "3.8.0",
  "getopt_version": "1.0.1",
  "sasl_version": "3.4.2",
  "bitcask_version": "2.0.3",
  "inets_version": "7.1.2",
  "xmerl_version": "1.3.23",
  "observer_version": "2.9.3",
  "parse_trans_version": "3.4.1",
  "folsom_version": "1.0.0",
  "bear_version": "1.0.0",
  "setup_version": "2.1.0",
  "hut_version": "1.3.0",
  "public_key_version": "1.7.2",
  "crypto_version": "4.6.5",
  "asn1_version": "5.0.10",
  "lager_syslog_version": "2.1.2",
  "syslog_version": "1.1.0",
  "goldrush_version": "0.1.9",
  "compiler_version": "7.5.3",
  "syntax_tools_version": "2.2.1",
  "stdlib_version": "3.12",
  "kernel_version": "6.5.2"
}
`
